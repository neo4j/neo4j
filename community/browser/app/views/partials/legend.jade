.legend(ng-controller='LegendCtrl', ng-model='frame.results.graph')
  .legend-row(ng-if='labels[""].count', ng-class="{contracted: labelsContracted}")
    .row-toggle(overflow-with-toggle='', ng-click="labelsContracted = !labelsContracted")
      .fa(ng-class="labelsContracted ? 'fa-caret-left' : 'fa-caret-down'")
    ul.list-unstyled.list-labels
      li(ng-repeat='(label, node) in labels', ng-class="{'not-in-slection': labelNotInSelection(currentItem, label)}")
        .contents(ng-click="onItemClick(node, 'label')")
          .label.label-node.class-name(ng-style='{"background-color": node.style.props.color, "color": node.style.props["text-color-internal"]}') {{label || '*'}}
            span.count ({{node.count}})
  .legend-row(ng-if='types[""].count', ng-class="{contracted: typesContracted}")
    .row-toggle(overflow-with-toggle='', ng-click="typesContracted = !typesContracted")
      .fa(ng-class="typesContracted ? 'fa-caret-left' : 'fa-caret-down'")
    ul.list-unstyled.list-relationships
      li(ng-repeat='(type, rel) in types', ng-class="{'not-in-slection': relationshipNotInSelection(currentItem, type)}")
        .contents(ng-click="onItemClick(rel, 'relationshipType')")
          .label.label-relationship.class-name(ng-style='{"background-color": rel.style.props.color, "color": rel.style.props["text-color-internal"]}') {{type || '*'}}
            span.count ({{rel.count}})
