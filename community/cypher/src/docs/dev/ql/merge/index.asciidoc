[[query-merge]]
Merge
=====

== Introduction ==
+MERGE+ ensures that a pattern exists in the graph. Either the pattern already exists, or parts of it need to be
created.

For example, you can specify that the graph must contain a node for a user with a certain name.
If there isn't a node with the correct name, a new node will be created and its name property set.

As with +MATCH+, +MERGE+ can match multiple occurrences of a pattern. If there are multiple matches, they will all be
passed on to later stages of the query.

The following graph is used for the examples below:

.Graph
include::includes/cypher-merge-graph.asciidoc[]

include::merge-single-node-with-a-label.asciidoc[]

include::merge-single-node-with-properties.asciidoc[]

include::merge-single-node-specifying-both-label-and-property.asciidoc[]

include::merge-with-on-create.asciidoc[]

include::merge-with-on-match.asciidoc[]

include::merge-with-on-create-and-on-match.asciidoc[]
